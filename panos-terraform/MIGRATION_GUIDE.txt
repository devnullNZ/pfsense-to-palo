pfSense to Palo Alto Networks (PAN-OS) Migration Report
================================================================================

Generated from: sample_pfsense_config.xml
Source System: firewall.example.com
Target Platform: Palo Alto Networks PAN-OS (via Terraform Provider v2.0+)

Configuration Summary
================================================================================

Source Configuration (pfSense):
  Interfaces: 4
  VLANs: 2
  Aliases: 5
  Firewall Rules: 9
  NAT Port Forwards: 3
  NAT Outbound Rules: 3
  NAT 1:1 Rules: 0
  DHCP Servers: 2
  Static Routes: 2
  IPsec Tunnels: 2
  OpenVPN Servers: 1
  OpenVPN Clients: 0

Target Configuration (PAN-OS Terraform Resources):
  Security Zones: 4
  Address Objects: 4
  Service Objects: 3
  Security Rules: 9
  NAT Rules: 6

Zone Mapping
================================================================================

pfSense Interface → PAN-OS Security Zone:
  lan (LAN) → trust
  opt1 (DMZ) → dmz
  opt2 (GUEST) → guest
  wan (WAN) → untrust


Interface Mapping
================================================================================

pfSense interfaces must be mapped to PAN-OS ethernet interfaces:

wan (WAN):
  Physical: igb0
  Zone: untrust
  → Map to: ethernet1/1 (suggested)

lan (LAN):
  Physical: igb1
  Zone: trust
  IP: 192.168.1.1/24
  → Map to: ethernet1/2 (suggested)

opt1 (DMZ):
  Physical: igb2
  Zone: dmz
  IP: 10.0.10.1/24
  → Map to: ethernet1/3 (suggested)

opt2 (GUEST):
  Physical: igb3
  Zone: guest
  IP: 10.0.20.1/24
  → Map to: ethernet1/4 (suggested)


Migration Tasks and Requirements
================================================================================

1. PHYSICAL INTERFACE MAPPING
   ⚠️  CRITICAL: Map pfSense interfaces to PAN-OS interfaces
   - pfSense uses descriptive names (wan, lan, opt1, etc.)
   - PAN-OS uses numbered interfaces (ethernet1/1, ethernet1/2, etc.)
   - Review interfaces.tf and update zone assignments
   - Configure interface IPs in PAN-OS (Network → Interfaces)

2. SECURITY ZONES
   ✓ Generated: zones.tf
   - Review zone assignments and adjust as needed
   - PAN-OS requires explicit zone-to-interface mapping
   - Common zones: trust, untrust, dmz, guest

3. ADDRESS OBJECTS
   ✓ Generated: address_objects.tf
   - Converted from pfSense aliases
   - Review address types (IP/netmask, IP range, FQDN)
   - Address groups created for multi-entry aliases

4. SERVICE OBJECTS
   ✓ Generated: service_objects.tf (if applicable)
   - Custom services extracted from rules
   - PAN-OS has extensive predefined applications
   - Consider using App-ID instead of port-based rules

5. SECURITY POLICY
   ✓ Generated: security_rules.tf
   - Converted from pfSense firewall rules
   - TODO items require manual configuration:
     * Destination zones (currently set to "any")
     * Service object references
     * Application identification
   - Review rule logic and zone-based model differences

6. NAT POLICY
   ✓ Generated: nat_rules.tf
   - Port forwards converted to destination NAT
   - Outbound NAT converted to source NAT
   - TODO items require:
     * Interface assignments
     * Source zone configuration
     * WAN IP configuration

7. STATIC ROUTES
   ✓ Generated: static_routes.tf (commented)
   - Routes documented for manual configuration
   - PAN-OS requires virtual router assignment
   - Default VR name: "default"

8. IPSEC VPN
   ✓ Generated: ipsec.tf (commented)
   - IKE gateways and tunnels documented
   - ⚠️  Pre-shared keys REDACTED for security
   - Requires manual PSK configuration
   - Phase 1 and Phase 2 parameters converted
   - Tunnel interfaces must be assigned

9. DHCP SERVICES
   ⚠️  NOT SUPPORTED via Terraform
   - PAN-OS DHCP configuration requires:
     * Manual configuration via web GUI
     * Panorama templates
     * Or API/XML configuration
   - Reference: dhcp_servers in parsed config

10. OPENVPN
    ⚠️  REQUIRES MANUAL MIGRATION
    - PAN-OS uses GlobalProtect for remote access VPN
    - Site-to-site: Use IPsec instead
    - Certificates must be imported manually
    - Consider GlobalProtect as alternative

Critical Differences: pfSense vs PAN-OS
================================================================================

1. ZONE-BASED SECURITY MODEL
   - pfSense: Interface-based rules
   - PAN-OS: Zone-based security policy
   - Impact: Rules must specify source AND destination zones

2. APPLICATION IDENTIFICATION (App-ID)
   - pfSense: Port-based filtering
   - PAN-OS: Application-aware filtering
   - Recommendation: Leverage App-ID for better security

3. SECURITY PROFILES
   - pfSense: Basic IDS/IPS via Snort/Suricata packages
   - PAN-OS: Integrated threat prevention
   - Action: Configure security profiles after migration

4. NETWORK ADDRESS TRANSLATION
   - pfSense: Separate port forward and outbound NAT
   - PAN-OS: Unified NAT policy with rule ordering
   - Note: Review NAT rule precedence

5. MANAGEMENT AND LOGGING
   - pfSense: Built-in logging to local disk
   - PAN-OS: Requires log forwarding configuration
   - Action: Configure logging profiles and forwarding

6. HIGH AVAILABILITY
   - pfSense: CARP-based HA
   - PAN-OS: Active/Passive or Active/Active HA
   - Note: HA configuration not in Terraform scope

Pre-Migration Checklist
================================================================================

 BEFORE running Terraform:
 
 □ Review and understand zone mappings (zones.tf)
 □ Map pfSense interfaces to PAN-OS interfaces (interfaces.tf)
 □ Configure physical interfaces in PAN-OS GUI
 □ Assign interfaces to security zones
 □ Create tunnel interfaces for IPsec VPNs
 □ Obtain and document all VPN pre-shared keys
 □ Review security rules for zone-based model compatibility
 □ Update NAT rules with correct interface assignments
 □ Configure virtual router (usually "default")
 □ Set up log forwarding (Panorama or syslog)
 □ Plan security profile deployment
 □ Back up current PAN-OS configuration
 □ Test in lab environment first!

Terraform Deployment Steps
================================================================================

1. PROVIDER CONFIGURATION
   cd panos-terraform
   
   # Create terraform.tfvars with your PAN-OS connection details:
   cat > terraform.tfvars << EOF
   panos_hostname = "192.168.1.1"     # Your firewall IP
   panos_username = "admin"            # Admin username
   panos_password = "your-password"    # Admin password
   panos_insecure = true               # For self-signed certs
   vsys           = "vsys1"            # Virtual system
   EOF

2. INITIALIZE TERRAFORM
   terraform init
   
   # This downloads the PAN-OS provider v2.0+

3. REVIEW CONFIGURATION
   # Before applying, review generated files:
   - zones.tf (security zones)
   - address_objects.tf (address objects)
   - security_rules.tf (security policy)
   - nat_rules.tf (NAT policy)
   
   # Update TODO items in these files

4. VALIDATE CONFIGURATION
   terraform validate
   
   # Check for syntax errors

5. PLAN DEPLOYMENT
   terraform plan -out=tfplan
   
   # Review what will be created
   # Verify zone assignments
   # Check address objects
   # Validate security rules

6. APPLY TO TEST ENVIRONMENT
   ⚠️  ALWAYS test in lab first!
   
   terraform apply tfplan
   
   # Monitor for errors
   # Review created objects in PAN-OS GUI

7. COMMIT CHANGES
   # PAN-OS requires manual commit
   # Via GUI: Commit → Commit
   # Via CLI: commit
   # Or use panos_commit resource

8. VALIDATE FUNCTIONALITY
   □ Test connectivity through firewall
   □ Verify NAT translations
   □ Check security policy enforcement
   □ Test VPN connectivity
   □ Validate routing
   □ Review logs

Post-Migration Tasks
================================================================================

1. SECURITY PROFILES
   - Configure antivirus profiles
   - Set up anti-spyware profiles
   - Enable vulnerability protection
   - Configure file blocking
   - Set up URL filtering
   - Apply profiles to security rules

2. LOGGING AND MONITORING
   - Configure log forwarding to Panorama or syslog
   - Set up email alerts
   - Configure SNMP monitoring
   - Enable session logging as needed

3. THREAT PREVENTION
   - Update threat databases
   - Configure WildFire (if licensed)
   - Set up DNS security (if licensed)

4. USER IDENTIFICATION
   - Integrate with Active Directory (if applicable)
   - Configure User-ID agent
   - Enable user-based policies

5. GLOBALPROTECT (if needed)
   - Configure GlobalProtect portals
   - Set up GlobalProtect gateways
   - Migrate OpenVPN users to GlobalProtect

6. PERFORMANCE OPTIMIZATION
   - Enable hardware offloading
   - Configure session timers
   - Optimize security rule order
   - Review and tune App-ID

7. DOCUMENTATION
   - Document zone design
   - Maintain IP address inventory
   - Update network diagrams
   - Document security policy
   - Create runbooks for common tasks

Known Limitations and Considerations
================================================================================

1. TERRAFORM PROVIDER LIMITATIONS
   - Not all PAN-OS features supported in provider v2.0
   - Some features require manual configuration
   - Commits must be done manually or via separate resource
   - Limited DHCP/DNS support

2. FEATURE GAPS
   - pfSense packages (Snort, pfBlockerNG, etc.) have no direct equivalents
   - Some advanced routing features may differ
   - Captive portal → GlobalProtect
   - Multi-WAN → SD-WAN or policy-based forwarding

3. PERFORMANCE CONSIDERATIONS
   - PAN-OS processes traffic differently (App-ID, Content-ID)
   - May need to adjust security profiles for performance
   - Hardware sizing important for throughput

4. LICENSING REQUIREMENTS
   - Base PAN-OS license included
   - Threat Prevention license for IPS/AV
   - URL Filtering license
   - GlobalProtect license for VPN
   - WildFire license for advanced malware analysis

Rollback Plan
================================================================================

If migration issues occur:

1. Keep pfSense operational during testing
2. Document all changes made to PAN-OS
3. Have PAN-OS backup before applying Terraform
4. Test rollback procedure in lab
5. Maintain configuration backups
6. Document lessons learned

Additional Resources
================================================================================

- PAN-OS Administrator's Guide: https://docs.paloaltonetworks.com
- Terraform PAN-OS Provider: https://registry.terraform.io/providers/PaloAltoNetworks/panos/latest
- PAN-OS API Documentation: https://docs.paloaltonetworks.com/pan-os/
- Migration Best Practices: https://live.paloaltonetworks.com
- App-ID Documentation: https://applipedia.paloaltonetworks.com

Support and Community
================================================================================

- Palo Alto Networks Support: https://support.paloaltonetworks.com
- LIVEcommunity Forums: https://live.paloaltonetworks.com
- Terraform Provider Issues: https://github.com/PaloAltoNetworks/terraform-provider-panos

---
Generated: 2026-01-13 12:46:59
Tool: pfSense to PAN-OS Terraform Converter
Target: PAN-OS Terraform Provider v2.0+
